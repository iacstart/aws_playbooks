= Playbooks to demonstrate automation of AWS tasks

This Playbooks can be put into a Tower workflow, `create_vpc_complete.yml` uses `set_stats` to pass needed values (sec_group id, subnet id) to `create_instance.yml`.

`create_vpc_complete.yml` -> `create_instance.yml`

Extra Vars for workflow (example values):
----
---
vpc: "iacstart"
vpc_cidr: "10.0.0.0/16"
subnet_cidr: "10.0.1.0/24"
state: "present"
region: "eu-central-1"
ami_id: "ami-030f83540c1a25d7f"
ssh_key: "grieger_ec2"
----

== Create Instance Playbook

Name: `create_instance.yml`

Variables with examples:

----
region:
ssh_key:
security_group_id:
vpc_subnet_id:
instance_type: 
ami_id:
----

== Create VPC (and needed resources) Playbook

Name: create_vpc_complete.yml

Variables:

----
vpc: "iacstart"
vpc_name: "{{ vpc }}_VPC"
igw_name: "{{ vpc }}_IGW"
subnet_name: "{{ vpc }}_subnet"
security_group_name: "{{ vpc }}_security_group"
route_table_name: "{{ vpc }}_route_table"
vpc_cidr: "10.0.0.0/16"
subnet_cidr: "10.0.1.0/24"
state: "present"
region: "eu-central-1"
----
